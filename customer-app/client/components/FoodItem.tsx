import React from 'react';
import { MenuItem } from '../contexts/MenuContext';
import { useCart } from '../contexts/CartContext';

interface FoodItemProps {
  item: MenuItem;
  restaurantId: string;
  restaurantName: string;
  showAddButton?: boolean;
}

const FoodItem: React.FC<FoodItemProps> = ({ 
  item, 
  restaurantId, 
  restaurantName, 
  showAddButton = true 
}) => {
  const { addToCart } = useCart();

  const handleAddToCart = () => {
    addToCart(item, restaurantId, restaurantName);
  };

  return (
    <div className="flex-shrink-0 w-52 border border-gray-200 rounded-2xl overflow-hidden bg-white">
      <div className="h-36 bg-white flex items-center justify-center">
        <img
          src={item.image}
          alt={item.name}
          className="w-full h-full object-cover"
        />
      </div>
      <div className="p-3 bg-white">
        <h3 className="font-semibold text-gray-900 text-base mb-2 font-urbanist line-clamp-2">
          {item.name}
        </h3>
        <p className="text-sm text-gray-600 mb-2 line-clamp-2">
          {item.description}
        </p>
        <div className="flex items-center gap-2 mb-2">
          <div className="flex items-center gap-1">
            <svg
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
            >
              <path
                d="M14.6666 6.44664C14.6245 6.3247 14.5479 6.21759 14.4462 6.13831C14.3444 6.05903 14.2218 6.01097 14.0933 5.99997L10.2999 5.44664L8.59994 1.99997C8.54535 1.88726 8.46012 1.7922 8.354 1.72569C8.24789 1.65918 8.12518 1.6239 7.99994 1.6239C7.87471 1.6239 7.752 1.65918 7.64588 1.72569C7.53977 1.7922 7.45453 1.88726 7.39994 1.99997L5.69994 5.43997L1.90661 5.99997C1.78323 6.01751 1.66723 6.06928 1.57178 6.14941C1.47633 6.22954 1.40525 6.33482 1.36661 6.45331C1.33124 6.56909 1.32807 6.69232 1.35743 6.80977C1.38679 6.92722 1.44758 7.03446 1.53328 7.11997L4.28661 9.78664L3.61994 13.5733C3.59614 13.6983 3.60861 13.8275 3.65586 13.9456C3.70311 14.0637 3.78318 14.1659 3.88661 14.24C3.98742 14.312 4.10633 14.3546 4.22998 14.3628C4.35363 14.3711 4.47712 14.3447 4.58661 14.2866L7.99994 12.5066L11.3999 14.2933C11.4935 14.3461 11.5992 14.3737 11.7066 14.3733C11.8478 14.3738 11.9856 14.3295 12.0999 14.2466C12.2034 14.1725 12.2834 14.0704 12.3307 13.9523C12.3779 13.8341 12.3904 13.705 12.3666 13.58L11.6999 9.79331L14.4533 7.12664C14.5495 7.04509 14.6207 6.93791 14.6584 6.81754C14.6962 6.69717 14.699 6.56856 14.6666 6.44664ZM10.5666 9.11331C10.4884 9.18893 10.4299 9.28253 10.3962 9.38596C10.3625 9.48938 10.3547 9.59947 10.3733 9.70664L10.8533 12.5L8.34661 11.1666C8.25016 11.1153 8.14255 11.0884 8.03328 11.0884C7.924 11.0884 7.8164 11.1153 7.71994 11.1666L5.21328 12.5L5.69328 9.70664C5.7119 9.59947 5.70402 9.48938 5.67032 9.38596C5.63662 9.28253 5.57813 9.18893 5.49994 9.11331L3.49994 7.11331L6.30661 6.70664C6.41461 6.69162 6.51728 6.65033 6.60561 6.58641C6.69394 6.52248 6.76525 6.43787 6.81328 6.33997L7.99994 3.79997L9.25328 6.34664C9.30131 6.44453 9.37261 6.52915 9.46095 6.59308C9.54928 6.657 9.65195 6.69829 9.75994 6.71331L12.5666 7.11997L10.5666 9.11331Z"
                fill="#FACC15"
              />
            </svg>
            <span className="text-xs text-gray-400 font-medium">
              {(item.rating || 0).toFixed(1)}
            </span>
          </div>
          <div className="flex items-center gap-1">
            <svg
              width="16"
              height="16"
              viewBox="0 0 16 16"
              fill="none"
            >
              <path
                d="M12 2.98669C10.9391 1.92582 9.50028 1.32983 7.99999 1.32983C6.4997 1.32983 5.06086 1.92582 3.99999 2.98669C2.93913 4.04755 2.34314 5.4864 2.34314 6.98669C2.34314 8.48698 2.93913 9.92582 3.99999 10.9867L7.51333 14.5067C7.5753 14.5692 7.64904 14.6188 7.73028 14.6526C7.81152 14.6865 7.89865 14.7039 7.98666 14.7039C8.07467 14.7039 8.16181 14.6865 8.24304 14.6526C8.32428 14.6188 8.39802 14.5692 8.45999 14.5067L12 10.9534C13.0564 9.8969 13.6499 8.46406 13.6499 6.97002C13.6499 5.47599 13.0564 4.04314 12 2.98669ZM11.0467 10L7.99999 13.06L4.95333 10C4.35142 9.39757 3.94164 8.63019 3.77579 7.79488C3.60994 6.95958 3.69545 6.09385 4.02153 5.30714C4.34761 4.52043 4.89961 3.84805 5.60775 3.37501C6.31589 2.90196 7.14838 2.64948 7.99999 2.64948C8.8516 2.64948 9.6841 2.90196 10.3922 3.37501C11.1004 3.84805 11.6524 4.52043 11.9785 5.30714C12.3045 6.09385 12.3901 6.95958 12.2242 7.79488C12.0583 8.63019 11.6486 9.39757 11.0467 10ZM5.99999 4.94002C5.4618 5.47987 5.15959 6.21107 5.15959 6.97336C5.15959 7.73564 5.4618 8.46684 5.99999 9.00669C6.39983 9.40721 6.90905 9.68074 7.46376 9.79296C8.01847 9.90517 8.59396 9.85108 9.11804 9.63746C9.64212 9.42384 10.0914 9.06021 10.4096 8.59219C10.7278 8.12417 10.9007 7.5726 10.9067 7.00669C10.9097 6.62882 10.8369 6.25419 10.6926 5.90495C10.5483 5.5557 10.3355 5.23893 10.0667 4.97336C9.80244 4.70307 9.48738 4.48771 9.13961 4.33967C8.79184 4.19162 8.41822 4.11381 8.04026 4.11071C7.6623 4.10761 7.28746 4.17929 6.93731 4.32161C6.58716 4.46394 6.26861 4.67411 5.99999 4.94002ZM9.12666 8.06002C8.87402 8.31652 8.54013 8.47729 8.18208 8.51486C7.82402 8.55242 7.46404 8.46445 7.16367 8.26597C6.86329 8.0675 6.64119 7.77085 6.53533 7.42674C6.42947 7.08264 6.44643 6.71245 6.5833 6.37946C6.72017 6.04647 6.96846 5.77137 7.28572 5.60118C7.60297 5.43099 7.9695 5.37629 8.32262 5.44643C8.67574 5.51657 8.99353 5.70719 9.22167 5.98571C9.4498 6.26422 9.5741 6.61334 9.57333 6.97336C9.56363 7.38487 9.39099 7.77571 9.09333 8.06002H9.12666Z"
                fill="#9CA3AF"
              />
            </svg>
            <span className="text-xs text-gray-400 font-medium">
              {item.preparationTime || 0} min
            </span>
          </div>
        </div>
        <div className="flex items-center justify-between">
          <div className="text-green-600 font-medium text-base font-urbanist">
            ${item.price.toFixed(2)}
          </div>
          {showAddButton && (
            <button
              onClick={handleAddToCart}
              className="bg-green-600 text-white px-3 py-1 rounded-full text-sm font-medium hover:bg-green-700 transition-colors"
            >
              Add
            </button>
          )}
        </div>
      </div>
    </div>
  );
};

export default FoodItem; 